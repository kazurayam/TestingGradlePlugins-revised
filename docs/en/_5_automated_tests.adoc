
== Setting up automated tests

=== Organizing test source code

The plugin development project is named `url-verifier-plugin`. It has 4 sub-directories: `src/main/java`, `src/test/groovy`, `src/integrationTest/groovy` and `src/functionalTest/groovy`.

image:console.png[]
----
$ basename $(pwd)
url-verifier-plugin
$ tree . -L 3
.
└── src
    ├── functionalTest
    │   └── groovy
    ├── integrationTest
    │   └── groovy
    ├── main
    │   ├── java
    │   └── resources
    └── test
        └── groovy
----

The `src/main/` contains the source of our custom plugin, written in Java.

We have 3 distinguished _SourceSets_ for automated tests.

The `src/test/` contains the unit-tests against the code in the `src/main/java`.

The `src/integrationTest/` contains the integration tests against the classes/methods in the `src/main/java` involving access to external resources such as web resources connected as `http://` or DB.

The `src/functionalTest/` contains the functional tests against the custom plugin developed in the `src/main/`. It generates a temporary `build.gradle` file which uses the target custom plugin. The functional tests execute the temporary `build.gradle` immediately and check how the plugin works.

=== Modeling test types

